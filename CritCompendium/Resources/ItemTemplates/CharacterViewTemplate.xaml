<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:enums="clr-namespace:CriticalCompendiumInfrastructure.Enums;assembly=CritCompendiumInfrastructure"
                    xmlns:ovm="clr-namespace:CritCompendium.ViewModels.ObjectViewModels"
                    xmlns:views="clr-namespace:CritCompendium.Views">
    <DataTemplate x:Key="_spellbookEntryTemplate" DataType="{x:Type ovm:SpellbookEntryViewModel}">
        <Border Margin="0,8,5,0"
                Padding="8"
                Background="Transparent"
                BorderBrush="{DynamicResource _contentBorderBrush}"
                BorderThickness="1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="32" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <CheckBox Grid.Column="0"
                          VerticalAlignment="Center"
                          IsChecked="{Binding Prepared}"
                          Visibility="{Binding DataContext.BasedOnClass, RelativeSource={RelativeSource AncestorType=ItemsControl, AncestorLevel=2}, Converter={StaticResource _boolVisibilityConverter}}" />

                <CheckBox Grid.Column="0"
                          VerticalAlignment="Center"
                          IsChecked="{Binding Used}"
                          Visibility="{Binding DataContext.BasedOnRace, RelativeSource={RelativeSource AncestorType=ItemsControl, AncestorLevel=2}, Converter={StaticResource _boolVisibilityConverter}}" />

                <TextBlock Grid.Column="1"
                           VerticalAlignment="Center"
                           Cursor="Hand"
                           Foreground="{DynamicResource _primaryTextBrush}"
                           Text="{Binding SpellName}"
                           TextWrapping="Wrap">
                    <TextBlock.InputBindings>
                        <MouseBinding Command="{Binding ViewDetailsCommand}"
                                      CommandParameter="{Binding}"
                                      MouseAction="LeftClick" />
                    </TextBlock.InputBindings>
                </TextBlock>

                <Button Name="RemoveSpellButton"
                        Grid.Column="2"
                        Margin="2,0,0,0"
                        Padding="2"
                        Command="{Binding DataContext.RemoveSpellCommand, RelativeSource={RelativeSource AncestorType=ItemsControl, AncestorLevel=2}}"
                        CommandParameter="{Binding}"
                        Style="{DynamicResource _secondaryButtonStyle}"
                        ToolTip="Remove Spell"
                        Visibility="Hidden">
                    <Image Width="16"
                           Height="16"
                           VerticalAlignment="Center"
                           Source="{DynamicResource _removeImage}" />
                </Button>
            </Grid>
        </Border>

        <DataTemplate.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter TargetName="RemoveSpellButton" Property="Visibility" Value="Visible" />
            </Trigger>
        </DataTemplate.Triggers>
    </DataTemplate>

    <DataTemplate x:Key="_characterDisplayTemplate" DataType="{x:Type ovm:CharacterViewModel}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <StackPanel Grid.Row="0" Margin="0,-4,10,0">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0"
                               FontSize="20"
                               FontWeight="DemiBold"
                               Foreground="{DynamicResource _primaryTextBrush}"
                               Text="{Binding Name}"
                               TextTrimming="CharacterEllipsis" />

                    <Button Grid.Column="1"
                            Margin="5,0"
                            Padding="2"
                            Command="{Binding Path=DataContext.EditCharacterCommand, RelativeSource={RelativeSource AncestorType={x:Type views:CharactersView}}}"
                            CommandParameter="{Binding}"
                            Style="{DynamicResource _secondaryButtonStyle}"
                            ToolTip="Edit Character">
                        <Image Width="16"
                               Height="16"
                               VerticalAlignment="Center"
                               Source="{DynamicResource _editImage}" />
                    </Button>

                    <Button Grid.Column="2"
                            Margin="5,0"
                            Padding="2"
                            Command="{Binding Path=DataContext.ExportCharacterCommand, RelativeSource={RelativeSource AncestorType={x:Type views:CharactersView}}}"
                            CommandParameter="{Binding}"
                            Style="{DynamicResource _secondaryButtonStyle}"
                            ToolTip="Export Character">
                        <Image Width="16"
                               Height="16"
                               VerticalAlignment="Center"
                               Source="{DynamicResource _exportImage}" />
                    </Button>
                </Grid>

                <!--<ContentControl Content="{Binding}" />-->

                <Border BorderBrush="{DynamicResource _contentBorderBrush}" BorderThickness="0,0,0,1">
                    <StackPanel>
                        <WrapPanel Margin="0,0,0,15">
                            <StackPanel Width="200" Margin="0,8,25,0">
                                <TextBlock Margin="0,10,0,0"
                                           FontSize="10"
                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                           Text="Class" />
                                <ItemsControl ItemsSource="{Binding Classes}">
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <WrapPanel />
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock x:Name="commaTextBlock"
                                                           Foreground="{DynamicResource _primaryTextBrush}"
                                                           Text=", " />
                                                <TextBlock Cursor="Hand"
                                                           Foreground="{DynamicResource _primaryTextBrush}"
                                                           Text="{Binding Key.Name}">
                                                    <TextBlock.InputBindings>
                                                        <MouseBinding Command="{Binding DataContext.ViewClassCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                                      CommandParameter="{Binding Key}"
                                                                      MouseAction="LeftClick" />
                                                    </TextBlock.InputBindings>
                                                </TextBlock>
                                                <TextBlock Foreground="{DynamicResource _primaryTextBrush}" Text="{Binding Value, StringFormat={} {0}}" />
                                            </StackPanel>
                                            <DataTemplate.Triggers>
                                                <DataTrigger Binding="{Binding RelativeSource={RelativeSource PreviousData}}" Value="{x:Null}">
                                                    <Setter TargetName="commaTextBlock" Property="Visibility" Value="Collapsed" />
                                                </DataTrigger>
                                            </DataTemplate.Triggers>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </StackPanel>

                            <StackPanel Width="200" Margin="0,8,25,0">
                                <TextBlock Margin="0,10,0,0"
                                           FontSize="10"
                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                           Text="Background" />
                                <TextBlock Cursor="Hand"
                                           Foreground="{DynamicResource _primaryTextBrush}"
                                           Text="{Binding Background.Name}"
                                           TextWrapping="Wrap">
                                    <TextBlock.InputBindings>
                                        <MouseBinding Command="{Binding ViewBackgroundCommand}"
                                                      CommandParameter="{Binding}"
                                                      MouseAction="LeftClick" />
                                    </TextBlock.InputBindings>
                                </TextBlock>
                            </StackPanel>

                            <StackPanel Width="200" Margin="0,8,25,0">
                                <TextBlock Margin="0,10,0,0"
                                           FontSize="10"
                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                           Text="Race" />
                                <TextBlock Cursor="Hand"
                                           Foreground="{DynamicResource _primaryTextBrush}"
                                           Text="{Binding Race.Name}"
                                           TextWrapping="Wrap">
                                    <TextBlock.InputBindings>
                                        <MouseBinding Command="{Binding ViewRaceCommand}"
                                                      CommandParameter="{Binding}"
                                                      MouseAction="LeftClick" />
                                    </TextBlock.InputBindings>
                                </TextBlock>
                            </StackPanel>

                            <StackPanel Width="200"
                                        Margin="0,8,25,0"
                                        HorizontalAlignment="Left">
                                <TextBlock Margin="0,0,0,2"
                                           FontSize="10"
                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                           Text="HP" />
                                <StackPanel Orientation="Horizontal">
                                    <Border Width="180"
                                            Background="DimGray"
                                            Cursor="Hand">
                                        <Border.InputBindings>
                                            <MouseBinding Command="{Binding ShowHPDialogCommand}" MouseAction="LeftClick" />
                                        </Border.InputBindings>

                                        <Grid Height="22">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="{Binding CurrentHP, Converter={StaticResource _gridLengthConverter}, ConverterParameter=true}" />
                                                    <ColumnDefinition Width="{Binding LessHP, Converter={StaticResource _gridLengthConverter}, ConverterParameter=true}" />
                                                </Grid.ColumnDefinitions>

                                                <Rectangle Grid.Column="0" Fill="DarkRed" />
                                            </Grid>

                                            <TextBlock HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"
                                                       Foreground="{DynamicResource _barForgroundBrush}"
                                                       Text="{Binding HPDisplay}" />
                                        </Grid>
                                    </Border>

                                    <Button Margin="4,0,2,0"
                                            Padding="2"
                                            Command="{Binding ShowDeathSavesDialogCommand}"
                                            Style="{DynamicResource _secondaryButtonStyle}"
                                            ToolTip="Death Saving Throws"
                                            Visibility="{Binding ShowDeathSaves, Converter={StaticResource _boolVisibilityConverter}}">
                                        <Image Width="16"
                                               Height="16"
                                               VerticalAlignment="Center"
                                               Source="{DynamicResource _ghostImage}" />
                                    </Button>
                                </StackPanel>
                            </StackPanel>

                            <Grid Width="200"
                                  Margin="0,8,25,1"
                                  VerticalAlignment="Bottom">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <Button Grid.Column="0"
                                        Height="22"
                                        Margin="0,0,3,0"
                                        Command="{Binding ShowTempHPDialogCommand}"
                                        Content="Temp HP"
                                        Style="{DynamicResource _mainButtonStyle}"
                                        ToolTip="Add temporary HP" />

                                <Button Grid.Column="1"
                                        Height="22"
                                        Margin="3,0,3,0"
                                        Command="{Binding ShowLongRestDialogCommand}"
                                        Content="Long Rest"
                                        Style="{DynamicResource _mainButtonStyle}"
                                        ToolTip="Take a long rest" />

                                <Button Grid.Column="2"
                                        Height="22"
                                        Margin="3,0,0,0"
                                        Command="{Binding ShowShortRestDialogCommand}"
                                        Content="Short Rest"
                                        Style="{DynamicResource _mainButtonStyle}"
                                        ToolTip="Take a short rest" />
                            </Grid>

                            <StackPanel Width="200" Margin="0,8,25,0">
                                <TextBlock Margin="0,0,0,2"
                                           FontSize="10"
                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                           Text="Experience" />
                                <StackPanel Orientation="Horizontal">
                                    <Border Width="180"
                                            Background="DimGray"
                                            Cursor="Hand">
                                        <Border.InputBindings>
                                            <MouseBinding Command="{Binding ShowExperienceDialogCommand}" MouseAction="LeftClick" />
                                        </Border.InputBindings>

                                        <Border.ToolTip>
                                            <ToolTip>
                                                <TextBlock Text="{Binding LessExperience, StringFormat='{}Next level: {0:N0}'}" />
                                            </ToolTip>
                                        </Border.ToolTip>

                                        <Grid Height="22">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="{Binding ExperienceAtCurrentLevel, Converter={StaticResource _gridLengthConverter}, ConverterParameter=true}" />
                                                    <ColumnDefinition Width="{Binding LessExperience, Converter={StaticResource _gridLengthConverter}, ConverterParameter=true}" />
                                                </Grid.ColumnDefinitions>

                                                <Rectangle Grid.Column="0" Fill="{DynamicResource _expBarColor}" />
                                            </Grid>

                                            <TextBlock Margin="5,0,0,0"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Foreground="{DynamicResource _barForgroundBrush}"
                                                       Text="{Binding Level}" />

                                            <TextBlock HorizontalAlignment="Center"
                                                       VerticalAlignment="Center"
                                                       Foreground="{DynamicResource _barForgroundBrush}"
                                                       Text="{Binding ExperienceDisplay}" />

                                            <TextBlock Margin="0,0,5,0"
                                                       HorizontalAlignment="Right"
                                                       VerticalAlignment="Center"
                                                       Foreground="{DynamicResource _barForgroundBrush}"
                                                       Text="{Binding NextLevel}" />
                                        </Grid>
                                    </Border>

                                    <Button Margin="4,0,2,0"
                                            Padding="2"
                                            Command="{Binding ShowLevelUpDialogCommand}"
                                            Style="{DynamicResource _secondaryFlashingButton}"
                                            ToolTip="Level Up"
                                            Visibility="{Binding LevelUpPending, Converter={StaticResource _boolVisibilityConverter}}">
                                        <Image Width="16"
                                               Height="16"
                                               VerticalAlignment="Center"
                                               Source="{DynamicResource _levelUpImage}" />
                                    </Button>
                                </StackPanel>
                            </StackPanel>
                        </WrapPanel>
                    </StackPanel>
                </Border>

                <Grid Margin="0,15,0,5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <Border Grid.Column="0"
                            Margin="0,0,15,0"
                            BorderThickness="0,0,0,3">
                        <Border.Style>
                            <Style TargetType="Border">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding StatsTabSelected}" Value="True">
                                        <Setter Property="BorderBrush" Value="{DynamicResource _accentBrush}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Border.Style>

                        <TextBlock Cursor="Hand"
                                   Text="Stats"
                                   TextTrimming="CharacterEllipsis">
                            <TextBlock.InputBindings>
                                <MouseBinding Command="{Binding SelectStatsTabCommand}" MouseAction="LeftClick" />
                            </TextBlock.InputBindings>

                            <TextBlock.Style>
                                <Style BasedOn="{StaticResource _editNavTextBlockStyle}" TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding StatsTabSelected}" Value="True">
                                            <Setter Property="Opacity" Value="1" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </Border>

                    <Border Grid.Column="1"
                            Margin="0,0,15,0"
                            BorderThickness="0,0,0,3">
                        <Border.Style>
                            <Style TargetType="Border">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding CombatTabSelected}" Value="True">
                                        <Setter Property="BorderBrush" Value="{DynamicResource _accentBrush}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Border.Style>

                        <TextBlock Cursor="Hand"
                                   Text="Combat"
                                   TextTrimming="CharacterEllipsis">
                            <TextBlock.InputBindings>
                                <MouseBinding Command="{Binding SelectCombatTabCommand}" MouseAction="LeftClick" />
                            </TextBlock.InputBindings>

                            <TextBlock.Style>
                                <Style BasedOn="{StaticResource _editNavTextBlockStyle}" TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding CombatTabSelected}" Value="True">
                                            <Setter Property="Opacity" Value="1" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </Border>

                    <Border Grid.Column="2"
                            Margin="0,0,15,0"
                            BorderThickness="0,0,0,3">
                        <Border.Style>
                            <Style TargetType="Border">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding InventoryAndEquipmentTabSelected}" Value="True">
                                        <Setter Property="BorderBrush" Value="{DynamicResource _accentBrush}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Border.Style>

                        <TextBlock Cursor="Hand"
                                   Text="Inventory and Equipment"
                                   TextTrimming="CharacterEllipsis">
                            <TextBlock.InputBindings>
                                <MouseBinding Command="{Binding SelectInventoryAndEquipmentTabCommand}" MouseAction="LeftClick" />
                            </TextBlock.InputBindings>

                            <TextBlock.Style>
                                <Style BasedOn="{StaticResource _editNavTextBlockStyle}" TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding InventoryAndEquipmentTabSelected}" Value="True">
                                            <Setter Property="Opacity" Value="1" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </Border>

                    <Border Grid.Column="3"
                            Margin="0,0,15,0"
                            BorderThickness="0,0,0,3">
                        <Border.Style>
                            <Style TargetType="Border">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding SpellcastingTabSelected}" Value="True">
                                        <Setter Property="BorderBrush" Value="{DynamicResource _accentBrush}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Border.Style>

                        <TextBlock Cursor="Hand"
                                   Text="Spellcasting"
                                   TextTrimming="CharacterEllipsis">
                            <TextBlock.InputBindings>
                                <MouseBinding Command="{Binding SelectSpellcastingTabCommand}" MouseAction="LeftClick" />
                            </TextBlock.InputBindings>

                            <TextBlock.Style>
                                <Style BasedOn="{StaticResource _editNavTextBlockStyle}" TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding SpellcastingTabSelected}" Value="True">
                                            <Setter Property="Opacity" Value="1" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </Border>

                    <Border Grid.Column="4"
                            Margin="0,0,15,0"
                            BorderThickness="0,0,0,3">
                        <Border.Style>
                            <Style TargetType="Border">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding InformationTabSelected}" Value="True">
                                        <Setter Property="BorderBrush" Value="{DynamicResource _accentBrush}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Border.Style>

                        <TextBlock Cursor="Hand"
                                   Text="Information"
                                   TextTrimming="CharacterEllipsis">
                            <TextBlock.InputBindings>
                                <MouseBinding Command="{Binding SelectInformationTabCommand}" MouseAction="LeftClick" />
                            </TextBlock.InputBindings>

                            <TextBlock.Style>
                                <Style BasedOn="{StaticResource _editNavTextBlockStyle}" TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding InformationTabSelected}" Value="True">
                                            <Setter Property="Opacity" Value="1" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </Border>
                </Grid>
            </StackPanel>

            <ScrollViewer Grid.Row="1"
                          VerticalScrollBarVisibility="Visible"
                          Visibility="{Binding StatsTabSelected, Converter={StaticResource _boolVisibilityConverter}}">
                <StackPanel>
                    <WrapPanel Margin="0,5,0,0">
                        <StackPanel Width="100" Margin="0,0,5,0">
                            <TextBlock Margin="0,15,0,5"
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="Strength" />
                            <TextBlock Margin="0,5,0,5"
                                       Cursor="Hand"
                                       FontSize="18"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding StrengthDisplay}">
                                <TextBlock.InputBindings>
                                    <MouseBinding Command="{Binding RollAbilityCheckCommand}"
                                                  CommandParameter="{x:Static enums:Ability.Strength}"
                                                  MouseAction="LeftClick" />
                                </TextBlock.InputBindings>
                            </TextBlock>
                        </StackPanel>

                        <StackPanel Width="100" Margin="0,0,5,0">
                            <TextBlock Margin="0,15,0,5"
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="Deterity" />
                            <TextBlock Margin="0,5,0,5"
                                       Cursor="Hand"
                                       FontSize="18"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding DexterityDisplay}">
                                <TextBlock.InputBindings>
                                    <MouseBinding Command="{Binding RollAbilityCheckCommand}"
                                                  CommandParameter="{x:Static enums:Ability.Dexterity}"
                                                  MouseAction="LeftClick" />
                                </TextBlock.InputBindings>
                            </TextBlock>
                        </StackPanel>

                        <StackPanel Width="100" Margin="0,0,5,0">
                            <TextBlock Margin="0,15,0,5"
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="Constitution" />
                            <TextBlock Margin="0,5,0,5"
                                       Cursor="Hand"
                                       FontSize="18"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding ConstitutionDisplay}">
                                <TextBlock.InputBindings>
                                    <MouseBinding Command="{Binding RollAbilityCheckCommand}"
                                                  CommandParameter="{x:Static enums:Ability.Constitution}"
                                                  MouseAction="LeftClick" />
                                </TextBlock.InputBindings>
                            </TextBlock>
                        </StackPanel>

                        <StackPanel Width="100" Margin="0,0,5,0">
                            <TextBlock Margin="0,15,0,5"
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="Intelligence" />
                            <TextBlock Margin="0,5,0,5"
                                       Cursor="Hand"
                                       FontSize="18"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding IntelligenceDisplay}">
                                <TextBlock.InputBindings>
                                    <MouseBinding Command="{Binding RollAbilityCheckCommand}"
                                                  CommandParameter="{x:Static enums:Ability.Intelligence}"
                                                  MouseAction="LeftClick" />
                                </TextBlock.InputBindings>
                            </TextBlock>
                        </StackPanel>

                        <StackPanel Width="100" Margin="0,0,5,0">
                            <TextBlock Margin="0,15,0,5"
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="Wisdom" />
                            <TextBlock Margin="0,5,0,5"
                                       Cursor="Hand"
                                       FontSize="18"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding WisdomDisplay}">
                                <TextBlock.InputBindings>
                                    <MouseBinding Command="{Binding RollAbilityCheckCommand}"
                                                  CommandParameter="{x:Static enums:Ability.Wisdom}"
                                                  MouseAction="LeftClick" />
                                </TextBlock.InputBindings>
                            </TextBlock>
                        </StackPanel>

                        <StackPanel Width="100" Margin="0,0,5,0">
                            <TextBlock Margin="0,15,0,5"
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="Charisma" />
                            <TextBlock Margin="0,5,0,5"
                                       Cursor="Hand"
                                       FontSize="18"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding CharismaDisplay}">
                                <TextBlock.InputBindings>
                                    <MouseBinding Command="{Binding RollAbilityCheckCommand}"
                                                  CommandParameter="{x:Static enums:Ability.Charisma}"
                                                  MouseAction="LeftClick" />
                                </TextBlock.InputBindings>
                            </TextBlock>
                        </StackPanel>
                    </WrapPanel>

                    <WrapPanel>
                        <StackPanel Width="190" Margin="0,20,25,0">
                            <TextBlock Margin="0,0,0,5"
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="Saving Throws" />

                            <ItemsControl ItemsSource="{Binding AbilityProficiencies}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="25" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="40" />
                                            </Grid.ColumnDefinitions>

                                            <CheckBox Grid.Row="0"
                                                      Grid.Column="0"
                                                      Margin="0,5,0,0"
                                                      IsChecked="{Binding Proficient}"
                                                      IsEnabled="False" />

                                            <TextBlock Grid.Row="0"
                                                       Grid.Column="1"
                                                       Margin="0,2,2,2"
                                                       Padding="4,2,0,2"
                                                       Cursor="Hand"
                                                       Foreground="{DynamicResource _primaryTextBrush}"
                                                       Text="{Binding AbilityString}">
                                                <TextBlock.InputBindings>
                                                    <MouseBinding Command="{Binding DataContext.RollAbilitySaveCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                                  CommandParameter="{Binding}"
                                                                  MouseAction="LeftClick" />
                                                </TextBlock.InputBindings>
                                            </TextBlock>

                                            <Border Grid.Row="0"
                                                    Grid.Column="2"
                                                    Width="32"
                                                    Height="24"
                                                    Margin="2,2,0,2"
                                                    HorizontalAlignment="Left"
                                                    Style="{DynamicResource _interactiveborderStyle}">
                                                <Border.InputBindings>
                                                    <MouseBinding Command="{Binding DataContext.RollAbilitySaveCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                                  CommandParameter="{Binding}"
                                                                  MouseAction="LeftClick" />
                                                </Border.InputBindings>

                                                <TextBlock VerticalAlignment="Center"
                                                           Foreground="{DynamicResource _primaryTextBrush}"
                                                           Text="{Binding SaveBonusString}"
                                                           TextAlignment="Center" />
                                            </Border>
                                        </Grid>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>

                            <TextBlock Margin="0,8,0,0"
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="Saving Throw Notes" />

                            <TextBlock Margin="0,8,0,0"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="No Notes Found"
                                       Visibility="{Binding HasSavingThrowNotes, Converter={StaticResource _invertBoolVisibilityConverter}}" />

                            <TextBlock Margin="0,5,0,0"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding SavingThrowNotes}"
                                       TextWrapping="Wrap"
                                       Visibility="{Binding HasSavingThrowNotes, Converter={StaticResource _boolVisibilityConverter}}" />
                        </StackPanel>

                        <StackPanel Margin="0,20,0,0">
                            <TextBlock Margin="0,0,0,5"
                                       FontWeight="Bold"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="Skills" />

                            <ItemsControl ItemsSource="{Binding SkillProficiencies}">
                                <ItemsControl.ItemsPanel>
                                    <ItemsPanelTemplate>
                                        <WrapPanel MaxWidth="500" />
                                    </ItemsPanelTemplate>
                                </ItemsControl.ItemsPanel>

                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Grid Width="210" Margin="0,0,25,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="25" />
                                                <ColumnDefinition Width="25" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="35" />
                                            </Grid.ColumnDefinitions>

                                            <CheckBox Grid.Column="0"
                                                      Margin="0,5,0,0"
                                                      IsChecked="{Binding Proficient}"
                                                      IsEnabled="False" />

                                            <CheckBox Grid.Column="1"
                                                      Margin="0,5,0,0"
                                                      IsChecked="{Binding Expertise}"
                                                      IsEnabled="False" />

                                            <TextBlock Grid.Column="2"
                                                       Margin="0,2,2,2"
                                                       Padding="4,2,0,2"
                                                       Cursor="Hand"
                                                       Foreground="{DynamicResource _primaryTextBrush}"
                                                       Text="{Binding SkillString}"
                                                       ToolTip="{Binding SkillAbilityString}">
                                                <TextBlock.InputBindings>
                                                    <MouseBinding Command="{Binding DataContext.RollSkillCheckCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                                  CommandParameter="{Binding}"
                                                                  MouseAction="LeftClick" />
                                                </TextBlock.InputBindings>
                                            </TextBlock>

                                            <Border Grid.Column="3"
                                                    Width="32"
                                                    Height="24"
                                                    Margin="2,2,0,2"
                                                    HorizontalAlignment="Left"
                                                    Style="{DynamicResource _interactiveborderStyle}">
                                                <Border.InputBindings>
                                                    <MouseBinding Command="{Binding DataContext.RollSkillCheckCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                                  CommandParameter="{Binding}"
                                                                  MouseAction="LeftClick" />
                                                </Border.InputBindings>

                                                <TextBlock VerticalAlignment="Center"
                                                           Foreground="{DynamicResource _primaryTextBrush}"
                                                           Text="{Binding BonusString}"
                                                           TextAlignment="Center" />
                                            </Border>
                                        </Grid>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
                    </WrapPanel>

                    <Grid Margin="0,20,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Margin="0,2,0,0"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource _primaryTextBrush}"
                                   Text="Stat Modifications" />

                        <Button Grid.Column="1"
                                Margin="5,0,5,0"
                                Padding="2"
                                Command="{Binding ShowAddStatModificationDialogCommand}"
                                Style="{DynamicResource _secondaryButtonStyle}"
                                ToolTip="Add Stat Modification">
                            <Image Width="16"
                                   Height="16"
                                   VerticalAlignment="Center"
                                   Source="{DynamicResource _addImage}" />
                        </Button>
                    </Grid>

                    <Grid Margin="8,0,0,0" Visibility="{Binding ShowStatModificationsHeader, Converter={StaticResource _boolVisibilityConverter}}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="165" />
                            <ColumnDefinition Width="80" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="Modification" />

                        <TextBlock Grid.Column="1"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="Value" />

                        <TextBlock Grid.Column="4"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="Notes" />
                    </Grid>

                    <ItemsControl ItemsSource="{Binding StatModifications}">
                        <ItemsControl.Style>
                            <Style TargetType="ItemsControl">
                                <Style.Triggers>
                                    <Trigger Property="HasItems" Value="False">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate>
                                                    <TextBlock Margin="0,8,0,0"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="No Stat Modifications Found" />
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ItemsControl.Style>

                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Margin="0,8,5,0"
                                        Padding="8"
                                        Background="Transparent"
                                        BorderBrush="{DynamicResource _contentBorderBrush}"
                                        BorderThickness="1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="165" />
                                            <ColumnDefinition Width="80" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Grid.Column="0"
                                                   VerticalAlignment="Center"
                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                   Text="{Binding ModificationOptionDisplay}"
                                                   TextWrapping="Wrap" />

                                        <TextBlock Grid.Column="1"
                                                   VerticalAlignment="Center"
                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                   Text="{Binding ValueDisplay}"
                                                   TextWrapping="Wrap" />

                                        <TextBlock Grid.Column="2"
                                                   HorizontalAlignment="Left"
                                                   VerticalAlignment="Center"
                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                   Text="{Binding Notes}"
                                                   TextWrapping="Wrap" />

                                        <Button Name="EditButton"
                                                Grid.Column="3"
                                                Margin="2,0"
                                                Padding="2"
                                                Command="{Binding DataContext.ShowEditStatModificationDialogCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                CommandParameter="{Binding}"
                                                Style="{DynamicResource _secondaryButtonStyle}"
                                                ToolTip="Edit Item"
                                                Visibility="Hidden">
                                            <Image Width="16"
                                                   Height="16"
                                                   VerticalAlignment="Center"
                                                   Source="{DynamicResource _editImage}" />
                                        </Button>

                                        <Button Name="RemoveButton"
                                                Grid.Column="4"
                                                Margin="2,0,0,0"
                                                Padding="2"
                                                Command="{Binding DataContext.DeleteStatModificationCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                CommandParameter="{Binding}"
                                                Style="{DynamicResource _secondaryButtonStyle}"
                                                ToolTip="Remove Item"
                                                Visibility="Hidden">
                                            <Image Width="16"
                                                   Height="16"
                                                   VerticalAlignment="Center"
                                                   Source="{DynamicResource _removeImage}" />
                                        </Button>
                                    </Grid>
                                </Border>

                                <DataTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="EditButton" Property="Visibility" Value="Visible" />
                                        <Setter TargetName="RemoveButton" Property="Visibility" Value="Visible" />
                                    </Trigger>
                                </DataTemplate.Triggers>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </ScrollViewer>

            <ScrollViewer Grid.Row="1"
                          VerticalScrollBarVisibility="Visible"
                          Visibility="{Binding CombatTabSelected, Converter={StaticResource _boolVisibilityConverter}}">
                <StackPanel>
                    <WrapPanel Margin="0,15,0,0">
                        <StackPanel Width="200"
                                    Margin="0,0,20,0"
                                    Orientation="Horizontal">
                            <Border Width="40"
                                    Height="24"
                                    Margin="1,2,0,2"
                                    HorizontalAlignment="Left"
                                    Style="{DynamicResource _interactiveborderStyle}"
                                    ToolTip="Edit AC">
                                <Border.InputBindings>
                                    <MouseBinding Command="{Binding ShowACDialogCommand}" MouseAction="LeftClick" />
                                </Border.InputBindings>

                                <TextBlock VerticalAlignment="Center"
                                           Foreground="{DynamicResource _primaryTextBrush}"
                                           Text="{Binding AC}"
                                           TextAlignment="Center" />
                            </Border>

                            <TextBlock Margin="10,5,0,0"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="AC" />
                        </StackPanel>

                        <StackPanel Width="200"
                                    Margin="0,0,20,0"
                                    Orientation="Horizontal">
                            <Border Width="40"
                                    Height="24"
                                    Margin="1,2,0,2"
                                    HorizontalAlignment="Left"
                                    Style="{DynamicResource _interactiveborderStyle}"
                                    ToolTip="Roll Initiative">
                                <Border.InputBindings>
                                    <MouseBinding Command="{Binding RollInitiativeCommand}" MouseAction="LeftClick" />
                                </Border.InputBindings>

                                <TextBlock VerticalAlignment="Center"
                                           Foreground="{DynamicResource _primaryTextBrush}"
                                           Text="{Binding InitiativeDisplay}"
                                           TextAlignment="Center" />
                            </Border>

                            <TextBlock Margin="10,5,0,0"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="Initiative" />
                        </StackPanel>

                        <StackPanel Width="200"
                                    Margin="0,0,20,0"
                                    Orientation="Horizontal">
                            <Border Width="40"
                                    Height="24"
                                    Margin="1,2,0,2"
                                    HorizontalAlignment="Left"
                                    Style="{DynamicResource _interactiveborderStyle}"
                                    ToolTip="Edit Movement">
                                <Border.InputBindings>
                                    <MouseBinding Command="{Binding ShowMovementDialogCommand}" MouseAction="LeftClick" />
                                </Border.InputBindings>

                                <TextBlock VerticalAlignment="Center"
                                           Foreground="{DynamicResource _primaryTextBrush}"
                                           Text="{Binding WalkSpeed, StringFormat={}{0} ft}"
                                           TextAlignment="Center" />
                            </Border>

                            <TextBlock Margin="10,5,0,0"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="Speed" />
                        </StackPanel>

                        <StackPanel Width="200"
                                    Margin="0,0,20,0"
                                    Orientation="Horizontal">
                            <Border Width="40"
                                    Height="24"
                                    Margin="1,2,0,2"
                                    HorizontalAlignment="Left"
                                    Style="{DynamicResource _interactiveborderStyle}"
                                    ToolTip="Roll Proficiency">
                                <Border.InputBindings>
                                    <MouseBinding Command="{Binding RollProficiencyCommand}" MouseAction="LeftClick" />
                                </Border.InputBindings>

                                <TextBlock VerticalAlignment="Center"
                                           Foreground="{DynamicResource _primaryTextBrush}"
                                           Text="{Binding ProficiencyDisplay}"
                                           TextAlignment="Center" />
                            </Border>

                            <TextBlock Margin="10,5,0,0"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="Proficiency Bonus" />
                        </StackPanel>

                        <StackPanel Width="200"
                                    Margin="0,0,20,0"
                                    Orientation="Horizontal">
                            <Border Width="40"
                                    Height="24"
                                    Margin="1,2,0,2"
                                    HorizontalAlignment="Left"
                                    Style="{DynamicResource _interactiveborderStyle}"
                                    ToolTip="Roll Perception">
                                <Border.InputBindings>
                                    <MouseBinding Command="{Binding RollPassivePerceptionCommand}" MouseAction="LeftClick" />
                                </Border.InputBindings>

                                <TextBlock VerticalAlignment="Center"
                                           Foreground="{DynamicResource _primaryTextBrush}"
                                           Text="{Binding PassivePerception}"
                                           TextAlignment="Center" />
                            </Border>

                            <TextBlock Margin="10,5,0,0"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="Passive Perception" />
                        </StackPanel>

                        <StackPanel Width="200"
                                    Margin="0,0,20,0"
                                    Orientation="Horizontal">
                            <Border Width="40"
                                    Height="24"
                                    Margin="1,2,0,2"
                                    HorizontalAlignment="Left"
                                    Style="{DynamicResource _interactiveborderStyle}"
                                    ToolTip="Roll Investigation">
                                <Border.InputBindings>
                                    <MouseBinding Command="{Binding RollPassiveInvestigationCommand}" MouseAction="LeftClick" />
                                </Border.InputBindings>

                                <TextBlock VerticalAlignment="Center"
                                           Foreground="{DynamicResource _primaryTextBrush}"
                                           Text="{Binding PassiveInvestigation}"
                                           TextAlignment="Center" />
                            </Border>

                            <TextBlock Margin="10,5,0,0"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="Passive Investigation" />
                        </StackPanel>

                        <StackPanel Width="200"
                                    Margin="0,0,20,0"
                                    Orientation="Horizontal">
                            <Border Width="40"
                                    Height="24"
                                    Margin="1,2,0,2"
                                    HorizontalAlignment="Left"
                                    Style="{DynamicResource _interactiveborderStyle}"
                                    ToolTip="Toggle Inspiration">
                                <Border.InputBindings>
                                    <MouseBinding Command="{Binding ToggleInspirationCommand}" MouseAction="LeftClick" />
                                </Border.InputBindings>

                                <Image Width="16"
                                       Height="16"
                                       VerticalAlignment="Center"
                                       Source="{DynamicResource _removeImage}"
                                       Visibility="{Binding Inspiration, Converter={StaticResource _boolVisibilityConverter}}" />
                            </Border>

                            <TextBlock Margin="10,5,0,0"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="Inspiration" />
                        </StackPanel>
                    </WrapPanel>

                    <Grid Margin="0,20,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Margin="0,2,0,0"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource _primaryTextBrush}"
                                   Text="Attacks" />

                        <Button Grid.Column="1"
                                Margin="5,0,5,0"
                                Padding="2"
                                Command="{Binding ShowAddAttackDialogCommand}"
                                Style="{DynamicResource _secondaryButtonStyle}"
                                ToolTip="Add Attack">
                            <Image Width="16"
                                   Height="16"
                                   VerticalAlignment="Center"
                                   Source="{DynamicResource _addImage}" />
                        </Button>
                    </Grid>

                    <Grid Margin="8,0,0,0" Visibility="{Binding ShowAttacksHeader, Converter={StaticResource _boolVisibilityConverter}}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120" />
                            <ColumnDefinition Width="70" />
                            <ColumnDefinition Width="80" />
                            <ColumnDefinition Width="80" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="Name" />

                        <TextBlock Grid.Column="1"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="Range" />

                        <TextBlock Grid.Column="2"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="To Hit" />

                        <TextBlock Grid.Column="3"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="Damage" />

                        <TextBlock Grid.Column="4"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="Notes" />
                    </Grid>

                    <ItemsControl ItemsSource="{Binding Attacks}">
                        <ItemsControl.Style>
                            <Style TargetType="ItemsControl">
                                <Style.Triggers>
                                    <Trigger Property="HasItems" Value="False">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate>
                                                    <TextBlock Margin="0,8,0,0"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="No Attacks Found" />
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ItemsControl.Style>

                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Margin="0,8,5,0"
                                        Padding="8"
                                        Background="Transparent"
                                        BorderBrush="{DynamicResource _contentBorderBrush}"
                                        BorderThickness="1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="120" />
                                            <ColumnDefinition Width="70" />
                                            <ColumnDefinition Width="80" />
                                            <ColumnDefinition Width="80" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Grid.Column="0"
                                                   VerticalAlignment="Center"
                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                   Text="{Binding Name}"
                                                   TextWrapping="Wrap" />

                                        <TextBlock Grid.Column="1"
                                                   HorizontalAlignment="Left"
                                                   VerticalAlignment="Center"
                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                   Text="{Binding RangeDisplay}"
                                                   TextWrapping="Wrap" />

                                        <TextBlock Grid.Column="2"
                                                   HorizontalAlignment="Left"
                                                   VerticalAlignment="Center"
                                                   Cursor="Hand"
                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                   Text="{Binding ToHit}"
                                                   TextTrimming="CharacterEllipsis"
                                                   Visibility="{Binding ShowToHit, Converter={StaticResource _boolVisibilityConverter}}">
                                            <TextBlock.InputBindings>
                                                <MouseBinding Command="{Binding Path=DataContext.RollAttackToHitCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                              CommandParameter="{Binding}"
                                                              MouseAction="LeftClick" />
                                            </TextBlock.InputBindings>
                                        </TextBlock>

                                        <TextBlock Grid.Column="3"
                                                   HorizontalAlignment="Left"
                                                   VerticalAlignment="Center"
                                                   Cursor="Hand"
                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                   Text="{Binding Damage}"
                                                   TextWrapping="Wrap"
                                                   Visibility="{Binding ShowDamage, Converter={StaticResource _boolVisibilityConverter}}">
                                            <TextBlock.InputBindings>
                                                <MouseBinding Command="{Binding Path=DataContext.RollAttackDamageCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                              CommandParameter="{Binding}"
                                                              MouseAction="LeftClick" />
                                            </TextBlock.InputBindings>
                                        </TextBlock>

                                        <TextBlock Grid.Column="4"
                                                   HorizontalAlignment="Left"
                                                   VerticalAlignment="Center"
                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                   Text="{Binding Notes}"
                                                   TextWrapping="Wrap" />

                                        <Button Name="EditButton"
                                                Grid.Column="5"
                                                Margin="2,0"
                                                Padding="2"
                                                Command="{Binding DataContext.ShowEditAttackDialogCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                CommandParameter="{Binding}"
                                                Style="{DynamicResource _secondaryButtonStyle}"
                                                ToolTip="Edit Attack"
                                                Visibility="Hidden">
                                            <Image Width="16"
                                                   Height="16"
                                                   VerticalAlignment="Center"
                                                   Source="{DynamicResource _editImage}" />
                                        </Button>

                                        <Button Name="RemoveButton"
                                                Grid.Column="6"
                                                Margin="2,0,0,0"
                                                Padding="2"
                                                Command="{Binding DataContext.DeleteAttackCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                CommandParameter="{Binding}"
                                                Style="{DynamicResource _secondaryButtonStyle}"
                                                ToolTip="Delete Attack"
                                                Visibility="Hidden">
                                            <Image Width="16"
                                                   Height="16"
                                                   VerticalAlignment="Center"
                                                   Source="{DynamicResource _removeImage}" />
                                        </Button>
                                    </Grid>
                                </Border>

                                <DataTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="EditButton" Property="Visibility" Value="Visible" />
                                        <Setter TargetName="RemoveButton" Property="Visibility" Value="Visible" />
                                    </Trigger>
                                </DataTemplate.Triggers>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>

                    <Grid Margin="0,20,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Margin="0,2,0,0"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource _primaryTextBrush}"
                                   Text="Counters" />

                        <Button Grid.Column="1"
                                Margin="5,0,5,0"
                                Padding="2"
                                Command="{Binding ShowAddCounterDialogCommand}"
                                Style="{DynamicResource _secondaryButtonStyle}"
                                ToolTip="Add Counter">
                            <Image Width="16"
                                   Height="16"
                                   VerticalAlignment="Center"
                                   Source="{DynamicResource _addImage}" />
                        </Button>
                    </Grid>

                    <Grid Margin="8,0,0,0" Visibility="{Binding ShowCountersHeader, Converter={StaticResource _boolVisibilityConverter}}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="140" />
                            <ColumnDefinition Width="115" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="Name" />

                        <TextBlock Grid.Column="1"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="Value" />

                        <TextBlock Grid.Column="2"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="Notes" />
                    </Grid>

                    <ItemsControl ItemsSource="{Binding Counters}">
                        <ItemsControl.Style>
                            <Style TargetType="ItemsControl">
                                <Style.Triggers>
                                    <Trigger Property="HasItems" Value="False">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate>
                                                    <TextBlock Margin="0,8,0,0"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="No Counters Found" />
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ItemsControl.Style>

                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Margin="0,8,5,0"
                                        Padding="8"
                                        Background="Transparent"
                                        BorderBrush="{DynamicResource _contentBorderBrush}"
                                        BorderThickness="1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="120" />
                                            <ColumnDefinition Width="135" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Grid.Column="0"
                                                   VerticalAlignment="Center"
                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                   Text="{Binding Name}"
                                                   TextWrapping="Wrap" />

                                        <StackPanel Grid.Column="1" Orientation="Horizontal">
                                            <Button Name="DecreaseButton"
                                                    Margin="2,0"
                                                    Padding="2"
                                                    Command="{Binding DecreaseCurrentValueCommand}"
                                                    CommandParameter="{Binding}"
                                                    Style="{DynamicResource _secondaryButtonStyle}"
                                                    ToolTip="Decrease Current Value"
                                                    Visibility="Hidden">
                                                <Image Width="16"
                                                       Height="16"
                                                       VerticalAlignment="Center"
                                                       Source="{DynamicResource _deleteImage}" />
                                            </Button>

                                            <TextBlock HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Foreground="{DynamicResource _primaryTextBrush}"
                                                       Text="{Binding ValueDisplay}"
                                                       TextWrapping="Wrap" />

                                            <Button Name="IncreaseButton"
                                                    Margin="2,0,18,0"
                                                    Padding="2"
                                                    Command="{Binding IncreaseCurrentValueCommand}"
                                                    CommandParameter="{Binding}"
                                                    Style="{DynamicResource _secondaryButtonStyle}"
                                                    ToolTip="Increase Current Value"
                                                    Visibility="Hidden">
                                                <Image Width="16"
                                                       Height="16"
                                                       VerticalAlignment="Center"
                                                       Source="{DynamicResource _addImage}" />
                                            </Button>
                                        </StackPanel>

                                        <TextBlock Grid.Column="2"
                                                   HorizontalAlignment="Left"
                                                   VerticalAlignment="Center"
                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                   Text="{Binding Notes}"
                                                   TextWrapping="Wrap" />

                                        <Button Name="EditButton"
                                                Grid.Column="3"
                                                Margin="2,0"
                                                Padding="2"
                                                Command="{Binding DataContext.ShowEditCounterDialogCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                CommandParameter="{Binding}"
                                                Style="{DynamicResource _secondaryButtonStyle}"
                                                ToolTip="Edit Counter"
                                                Visibility="Hidden">
                                            <Image Width="16"
                                                   Height="16"
                                                   VerticalAlignment="Center"
                                                   Source="{DynamicResource _editImage}" />
                                        </Button>

                                        <Button Name="RemoveButton"
                                                Grid.Column="4"
                                                Margin="2,0,0,0"
                                                Padding="2"
                                                Command="{Binding DataContext.DeleteCounterCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                CommandParameter="{Binding}"
                                                Style="{DynamicResource _secondaryButtonStyle}"
                                                ToolTip="Delete Counter"
                                                Visibility="Hidden">
                                            <Image Width="16"
                                                   Height="16"
                                                   VerticalAlignment="Center"
                                                   Source="{DynamicResource _removeImage}" />
                                        </Button>
                                    </Grid>
                                </Border>

                                <DataTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="DecreaseButton" Property="Visibility" Value="Visible" />
                                        <Setter TargetName="IncreaseButton" Property="Visibility" Value="Visible" />
                                        <Setter TargetName="EditButton" Property="Visibility" Value="Visible" />
                                        <Setter TargetName="RemoveButton" Property="Visibility" Value="Visible" />
                                    </Trigger>
                                </DataTemplate.Triggers>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>

                    <Grid Margin="0,20,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Margin="0,2,0,0"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource _primaryTextBrush}"
                                   Text="Companions/Forms" />

                        <Button Grid.Column="1"
                                Margin="5,0,5,0"
                                Padding="2"
                                Command="{Binding ShowAddCompanionDialogCommand}"
                                Style="{DynamicResource _secondaryButtonStyle}"
                                ToolTip="Add Companion or Form">
                            <Image Width="16"
                                   Height="16"
                                   VerticalAlignment="Center"
                                   Source="{DynamicResource _addImage}" />
                        </Button>
                    </Grid>

                    <Grid Margin="8,0,0,0" Visibility="{Binding ShowCompanionsHeader, Converter={StaticResource _boolVisibilityConverter}}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="175" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="Name" />

                        <TextBlock Grid.Column="1"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="HP" />
                    </Grid>

                    <ItemsControl ItemsSource="{Binding Companions}">
                        <ItemsControl.Style>
                            <Style TargetType="ItemsControl">
                                <Style.Triggers>
                                    <Trigger Property="HasItems" Value="False">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate>
                                                    <TextBlock Margin="0,8,0,0"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="No Companions Found" />
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ItemsControl.Style>

                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Margin="0,8,5,0"
                                        Padding="8"
                                        Background="Transparent"
                                        BorderBrush="{DynamicResource _contentBorderBrush}"
                                        BorderThickness="1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="160" />
                                            <ColumnDefinition Width="190" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Grid.Column="0"
                                                   VerticalAlignment="Center"
                                                   Cursor="Hand"
                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                   IsEnabled="{Binding IsMonsterSet}"
                                                   Text="{Binding Name}"
                                                   TextWrapping="Wrap">
                                            <TextBlock.InputBindings>
                                                <MouseBinding Command="{Binding ViewMonsterCommand}"
                                                              CommandParameter="{Binding}"
                                                              MouseAction="LeftClick" />
                                            </TextBlock.InputBindings>
                                        </TextBlock>

                                        <Border Grid.Column="1"
                                                Height="22"
                                                Margin="10,0,10,0"
                                                Background="DimGray"
                                                Cursor="Hand">
                                            <Border.InputBindings>
                                                <MouseBinding Command="{Binding ShowHPDialogCommand}" MouseAction="LeftClick" />
                                            </Border.InputBindings>

                                            <Grid>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="{Binding CurrentHP, Converter={StaticResource _gridLengthConverter}, ConverterParameter=true}" />
                                                        <ColumnDefinition Width="{Binding LessHP, Converter={StaticResource _gridLengthConverter}, ConverterParameter=true}" />
                                                    </Grid.ColumnDefinitions>

                                                    <Rectangle Grid.Column="0" Fill="DarkRed" />
                                                </Grid>

                                                <TextBlock HorizontalAlignment="Center"
                                                           VerticalAlignment="Center"
                                                           Foreground="{DynamicResource _primaryTextBrush}"
                                                           Text="{Binding HPDisplay}" />
                                            </Grid>
                                        </Border>

                                        <Button Name="EditButton"
                                                Grid.Column="3"
                                                Margin="2,0"
                                                Padding="2"
                                                Command="{Binding DataContext.ShowEditCompanionDialogCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                CommandParameter="{Binding}"
                                                Style="{DynamicResource _secondaryButtonStyle}"
                                                ToolTip="Edit Companion"
                                                Visibility="Hidden">
                                            <Image Width="16"
                                                   Height="16"
                                                   VerticalAlignment="Center"
                                                   Source="{DynamicResource _editImage}" />
                                        </Button>

                                        <Button Name="RemoveButton"
                                                Grid.Column="4"
                                                Margin="2,0,0,0"
                                                Padding="2"
                                                Command="{Binding DataContext.DeleteCompanionCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                CommandParameter="{Binding}"
                                                Style="{DynamicResource _secondaryButtonStyle}"
                                                ToolTip="Delete Companion"
                                                Visibility="Hidden">
                                            <Image Width="16"
                                                   Height="16"
                                                   VerticalAlignment="Center"
                                                   Source="{DynamicResource _removeImage}" />
                                        </Button>
                                    </Grid>
                                </Border>

                                <DataTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="EditButton" Property="Visibility" Value="Visible" />
                                        <Setter TargetName="RemoveButton" Property="Visibility" Value="Visible" />
                                    </Trigger>
                                </DataTemplate.Triggers>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>

                    <Grid Margin="0,20,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Margin="0,2,0,0"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource _primaryTextBrush}"
                                   Text="Conditions" />

                        <Button Grid.Column="1"
                                Margin="5,0,5,0"
                                Padding="2"
                                Command="{Binding ShowAddConditionDialogCommand}"
                                Style="{DynamicResource _secondaryButtonStyle}"
                                ToolTip="Add Condition">
                            <Image Width="16"
                                   Height="16"
                                   VerticalAlignment="Center"
                                   Source="{DynamicResource _addImage}" />
                        </Button>
                    </Grid>

                    <Grid Margin="8,0,0,0" Visibility="{Binding ShowConditionsHeader, Converter={StaticResource _boolVisibilityConverter}}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="120" />
                            <ColumnDefinition Width="60" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="Name" />

                        <TextBlock Grid.Column="1"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="Level" />

                        <TextBlock Grid.Column="4"
                                   Margin="0,5,10,0"
                                   FontSize="10"
                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                   Text="Notes" />
                    </Grid>

                    <ItemsControl ItemsSource="{Binding Conditions}">
                        <ItemsControl.Style>
                            <Style TargetType="ItemsControl">
                                <Style.Triggers>
                                    <Trigger Property="HasItems" Value="False">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate>
                                                    <TextBlock Margin="0,8,0,0"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="No Conditions Found" />
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ItemsControl.Style>

                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Margin="0,8,5,0"
                                        Padding="8"
                                        Background="Transparent"
                                        BorderBrush="{DynamicResource _contentBorderBrush}"
                                        BorderThickness="1">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="120" />
                                            <ColumnDefinition Width="60" />
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Grid.Column="0"
                                                   VerticalAlignment="Center"
                                                   Cursor="Hand"
                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                   Text="{Binding Name}"
                                                   TextWrapping="Wrap">
                                            <TextBlock.InputBindings>
                                                <MouseBinding Command="{Binding ViewConditionCommand}"
                                                              CommandParameter="{Binding}"
                                                              MouseAction="LeftClick" />
                                            </TextBlock.InputBindings>
                                        </TextBlock>

                                        <TextBlock Grid.Column="1"
                                                   HorizontalAlignment="Left"
                                                   VerticalAlignment="Center"
                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                   Text="{Binding Level}"
                                                   TextWrapping="Wrap" />

                                        <TextBlock Grid.Column="2"
                                                   HorizontalAlignment="Left"
                                                   VerticalAlignment="Center"
                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                   Text="{Binding Notes}"
                                                   TextWrapping="Wrap" />

                                        <Button Name="EditButton"
                                                Grid.Column="3"
                                                Margin="2,0"
                                                Padding="2"
                                                Command="{Binding DataContext.ShowEditConditionDialogCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                CommandParameter="{Binding}"
                                                Style="{DynamicResource _secondaryButtonStyle}"
                                                ToolTip="Edit Condition"
                                                Visibility="Hidden">
                                            <Image Width="16"
                                                   Height="16"
                                                   VerticalAlignment="Center"
                                                   Source="{DynamicResource _editImage}" />
                                        </Button>

                                        <Button Name="RemoveButton"
                                                Grid.Column="4"
                                                Margin="2,0,0,0"
                                                Padding="2"
                                                Command="{Binding DataContext.RemoveConditionCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                CommandParameter="{Binding}"
                                                Style="{DynamicResource _secondaryButtonStyle}"
                                                ToolTip="Remove Condition"
                                                Visibility="Hidden">
                                            <Image Width="16"
                                                   Height="16"
                                                   VerticalAlignment="Center"
                                                   Source="{DynamicResource _removeImage}" />
                                        </Button>
                                    </Grid>
                                </Border>

                                <DataTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="EditButton" Property="Visibility" Value="Visible" />
                                        <Setter TargetName="RemoveButton" Property="Visibility" Value="Visible" />
                                    </Trigger>
                                </DataTemplate.Triggers>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>

                    <TextBlock Grid.Column="0"
                               Margin="0,20,0,2"
                               FontWeight="Bold"
                               Foreground="{DynamicResource _primaryTextBrush}"
                               Text="Feats" />

                    <ItemsControl ItemsSource="{Binding Feats}">
                        <ItemsControl.Style>
                            <Style TargetType="ItemsControl">
                                <Style.Triggers>
                                    <Trigger Property="HasItems" Value="False">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate>
                                                    <TextBlock Margin="0,8,0,0"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="No Feats Found" />
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ItemsControl.Style>

                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>

                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Width="135"
                                        Margin="0,2,10,2"
                                        Style="{DynamicResource _interactiveborderStyle}">
                                    <Border.InputBindings>
                                        <MouseBinding Command="{Binding Path=DataContext.ViewFeatCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                      CommandParameter="{Binding}"
                                                      MouseAction="LeftClick" />
                                    </Border.InputBindings>

                                    <TextBlock Margin="5"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Foreground="{DynamicResource _primaryTextBrush}"
                                               Text="{Binding Name}"
                                               TextTrimming="CharacterEllipsis"
                                               ToolTip="{Binding Name}" />
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>

                    <TextBlock Grid.Column="0"
                               Margin="0,20,0,2"
                               FontWeight="Bold"
                               Foreground="{DynamicResource _primaryTextBrush}"
                               Text="Features" />

                    <ItemsControl ItemsSource="{Binding Features}">
                        <ItemsControl.Style>
                            <Style TargetType="ItemsControl">
                                <Style.Triggers>
                                    <Trigger Property="HasItems" Value="False">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate>
                                                    <TextBlock Margin="0,8,0,0"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="No Features Found" />
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ItemsControl.Style>

                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>

                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Width="216"
                                        Margin="0,2,10,2"
                                        Style="{DynamicResource _interactiveborderStyle}">
                                    <Border.InputBindings>
                                        <MouseBinding Command="{Binding Path=DataContext.ViewFeatureCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                      CommandParameter="{Binding}"
                                                      MouseAction="LeftClick" />
                                    </Border.InputBindings>

                                    <TextBlock Margin="5"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Foreground="{DynamicResource _primaryTextBrush}"
                                               Text="{Binding Name}"
                                               TextTrimming="CharacterEllipsis"
                                               ToolTip="{Binding Name}" />
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </ScrollViewer>

            <ScrollViewer Grid.Row="1"
                          VerticalScrollBarVisibility="Auto"
                          Visibility="{Binding InventoryAndEquipmentTabSelected, Converter={StaticResource _boolVisibilityConverter}}">
                <StackPanel>
                    <WrapPanel Margin="0,5,0,0">
                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,2"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Attuned Items" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding TotalAttunedItems}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,2"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Total Weight" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding TotalWeight, StringFormat={}{0} lbs}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,2"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Carrying Capacity" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding CarryingCapacity, StringFormat={}{0} lbs}"
                                       TextWrapping="Wrap" />
                        </StackPanel>
                    </WrapPanel>

                    <WrapPanel Margin="0,5,0,0">
                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,2"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Total Copper" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding TotalCopper, StringFormat='{}{0:N0}'}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,2"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Total Silver" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding TotalSilver, StringFormat='{}{0:N0}'}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,2"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Total Electrum" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding TotalElectrum, StringFormat='{}{0:N0}'}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,2"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Total Gold" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding TotalGold, StringFormat='{}{0:N0}'}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,2"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Total Platinum" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding TotalPlatinum, StringFormat='{}{0:N0}'}"
                                       TextWrapping="Wrap" />
                        </StackPanel>
                    </WrapPanel>

                    <TextBlock Grid.Column="0"
                               Margin="0,15,0,4"
                               FontWeight="Bold"
                               Foreground="{DynamicResource _primaryTextBrush}"
                               Text="Equipped Items" />

                    <ItemsControl ItemsSource="{Binding EquippedItems}">
                        <ItemsControl.Style>
                            <Style TargetType="ItemsControl">
                                <Style.Triggers>
                                    <Trigger Property="HasItems" Value="False">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate>
                                                    <TextBlock Margin="0,8,0,0"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="No Equipped Items Found" />
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ItemsControl.Style>

                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>

                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Width="216"
                                        Margin="0,2,10,2"
                                        Style="{DynamicResource _interactiveborderStyle}">
                                    <Border.InputBindings>
                                        <MouseBinding Command="{Binding ViewDetailsCommand}" MouseAction="LeftClick" />
                                    </Border.InputBindings>

                                    <TextBlock Margin="5"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Center"
                                               Foreground="{DynamicResource _primaryTextBrush}"
                                               Text="{Binding Name}"
                                               TextTrimming="CharacterEllipsis"
                                               ToolTip="{Binding Name}" />
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>

                    <Grid Margin="0,15,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Margin="0,2,0,0"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource _primaryTextBrush}"
                                   Text="Bags" />

                        <Button Grid.Column="1"
                                Margin="5,0,5,0"
                                Padding="2"
                                Command="{Binding ShowAddBagDialogCommand}"
                                Style="{DynamicResource _secondaryButtonStyle}"
                                ToolTip="Add Bag">
                            <Image Width="16"
                                   Height="16"
                                   VerticalAlignment="Center"
                                   Source="{DynamicResource _addImage}" />
                        </Button>
                    </Grid>

                    <ItemsControl ItemsSource="{Binding Bags}">
                        <ItemsControl.Style>
                            <Style TargetType="ItemsControl">
                                <Style.Triggers>
                                    <Trigger Property="HasItems" Value="False">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate>
                                                    <TextBlock Margin="0,8,0,0"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="No Bags Found" />
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ItemsControl.Style>

                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Margin="0,8,5,0"
                                        Padding="8"
                                        Background="Transparent"
                                        BorderBrush="{DynamicResource _contentBorderBrush}"
                                        BorderThickness="1">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>

                                        <Grid Grid.Row="0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>

                                            <TextBlock Grid.Column="0"
                                                       VerticalAlignment="Center"
                                                       FontWeight="Bold"
                                                       Foreground="{DynamicResource _primaryTextBrush}"
                                                       Text="{Binding Name}"
                                                       TextWrapping="Wrap" />

                                            <Button Name="BagEditButton"
                                                    Grid.Column="2"
                                                    Margin="2,0"
                                                    Padding="2"
                                                    Command="{Binding DataContext.ShowEditBagDialogCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                    CommandParameter="{Binding}"
                                                    Style="{DynamicResource _secondaryButtonStyle}"
                                                    ToolTip="Edit Bag"
                                                    Visibility="Hidden">
                                                <Image Width="16"
                                                       Height="16"
                                                       VerticalAlignment="Center"
                                                       Source="{DynamicResource _editImage}" />
                                            </Button>

                                            <Button Name="BagRemoveButton"
                                                    Grid.Column="3"
                                                    Margin="2,0,0,0"
                                                    Padding="2"
                                                    Command="{Binding DataContext.DeleteBagCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                    CommandParameter="{Binding}"
                                                    Style="{DynamicResource _secondaryButtonStyle}"
                                                    ToolTip="Delete Bag"
                                                    Visibility="Hidden">
                                                <Image Width="16"
                                                       Height="16"
                                                       VerticalAlignment="Center"
                                                       Source="{DynamicResource _removeImage}" />
                                            </Button>
                                        </Grid>

                                        <Grid Grid.Row="1" Margin="0,15,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="150" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>

                                            <StackPanel Grid.Column="0">
                                                <Grid Margin="0,0,0,0">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="Auto" />
                                                    </Grid.ColumnDefinitions>

                                                    <TextBlock Grid.Column="0"
                                                               Margin="0,2,0,0"
                                                               Foreground="{DynamicResource _primaryTextBrush}"
                                                               Text="Money" />

                                                    <Button Grid.Column="1"
                                                            Margin="5,0,5,0"
                                                            Padding="2"
                                                            Command="{Binding DataContext.ShowConvertMoneyDialogCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                            CommandParameter="{Binding}"
                                                            Style="{DynamicResource _secondaryButtonStyle}"
                                                            ToolTip="Convert Money">
                                                        <Image Width="16"
                                                               Height="16"
                                                               VerticalAlignment="Center"
                                                               Source="{DynamicResource _convertImage}" />
                                                    </Button>
                                                </Grid>

                                                <Grid Margin="5,0,0,0" Visibility="{Binding ShowEquipmentHeader, Converter={StaticResource _boolVisibilityConverter}}">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="55" />
                                                        <ColumnDefinition Width="60" />
                                                    </Grid.ColumnDefinitions>

                                                    <TextBlock Grid.Column="0"
                                                               Margin="0,5,10,0"
                                                               FontSize="10"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="Quantity" />

                                                    <TextBlock Grid.Column="1"
                                                               Margin="0,5,10,0"
                                                               FontSize="10"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="Currency" />
                                                </Grid>

                                                <StackPanel Margin="0,8,0,0" Orientation="Horizontal">
                                                    <Border Width="50"
                                                            Height="24"
                                                            Margin="1,2,0,2"
                                                            HorizontalAlignment="Left"
                                                            Style="{DynamicResource _interactiveborderStyle}">
                                                        <Border.InputBindings>
                                                            <MouseBinding Command="{Binding ShowUpdateMoneyDialogCommand}"
                                                                          CommandParameter="{x:Static enums:Currency.Copper}"
                                                                          MouseAction="LeftClick" />
                                                        </Border.InputBindings>

                                                        <TextBlock VerticalAlignment="Center"
                                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                                   Text="{Binding Copper, StringFormat='{}{0:N0}'}"
                                                                   TextAlignment="Center" />
                                                    </Border>

                                                    <TextBlock Grid.Column="0"
                                                               Margin="10,5,0,0"
                                                               Foreground="{DynamicResource _primaryTextBrush}"
                                                               Text="Copper" />
                                                </StackPanel>

                                                <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                                                    <Border Width="50"
                                                            Height="24"
                                                            Margin="1,2,0,2"
                                                            HorizontalAlignment="Left"
                                                            Style="{DynamicResource _interactiveborderStyle}">
                                                        <Border.InputBindings>
                                                            <MouseBinding Command="{Binding ShowUpdateMoneyDialogCommand}"
                                                                          CommandParameter="{x:Static enums:Currency.Silver}"
                                                                          MouseAction="LeftClick" />
                                                        </Border.InputBindings>

                                                        <TextBlock VerticalAlignment="Center"
                                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                                   Text="{Binding Silver, StringFormat='{}{0:N0}'}"
                                                                   TextAlignment="Center" />
                                                    </Border>

                                                    <TextBlock Grid.Column="0"
                                                               Margin="10,5,0,0"
                                                               Foreground="{DynamicResource _primaryTextBrush}"
                                                               Text="Silver" />
                                                </StackPanel>

                                                <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                                                    <Border Width="50"
                                                            Height="24"
                                                            Margin="1,2,0,2"
                                                            HorizontalAlignment="Left"
                                                            Style="{DynamicResource _interactiveborderStyle}">
                                                        <Border.InputBindings>
                                                            <MouseBinding Command="{Binding ShowUpdateMoneyDialogCommand}"
                                                                          CommandParameter="{x:Static enums:Currency.Electrum}"
                                                                          MouseAction="LeftClick" />
                                                        </Border.InputBindings>

                                                        <TextBlock VerticalAlignment="Center"
                                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                                   Text="{Binding Electrum, StringFormat='{}{0:N0}'}"
                                                                   TextAlignment="Center" />
                                                    </Border>

                                                    <TextBlock Grid.Column="0"
                                                               Margin="10,5,0,0"
                                                               Foreground="{DynamicResource _primaryTextBrush}"
                                                               Text="Electrum" />
                                                </StackPanel>

                                                <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                                                    <Border Width="50"
                                                            Height="24"
                                                            Margin="1,2,0,2"
                                                            HorizontalAlignment="Left"
                                                            Style="{DynamicResource _interactiveborderStyle}">
                                                        <Border.InputBindings>
                                                            <MouseBinding Command="{Binding ShowUpdateMoneyDialogCommand}"
                                                                          CommandParameter="{x:Static enums:Currency.Gold}"
                                                                          MouseAction="LeftClick" />
                                                        </Border.InputBindings>

                                                        <TextBlock VerticalAlignment="Center"
                                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                                   Text="{Binding Gold, StringFormat='{}{0:N0}'}"
                                                                   TextAlignment="Center" />
                                                    </Border>

                                                    <TextBlock Grid.Column="0"
                                                               Margin="10,5,0,0"
                                                               Foreground="{DynamicResource _primaryTextBrush}"
                                                               Text="Gold" />
                                                </StackPanel>

                                                <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                                                    <Border Width="50"
                                                            Height="24"
                                                            Margin="1,2,0,2"
                                                            HorizontalAlignment="Left"
                                                            Style="{DynamicResource _interactiveborderStyle}">
                                                        <Border.InputBindings>
                                                            <MouseBinding Command="{Binding ShowUpdateMoneyDialogCommand}"
                                                                          CommandParameter="{x:Static enums:Currency.Platinum}"
                                                                          MouseAction="LeftClick" />
                                                        </Border.InputBindings>

                                                        <TextBlock VerticalAlignment="Center"
                                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                                   Text="{Binding Platinum, StringFormat='{}{0:N0}'}"
                                                                   TextAlignment="Center" />
                                                    </Border>

                                                    <TextBlock Grid.Column="0"
                                                               Margin="10,5,0,0"
                                                               Foreground="{DynamicResource _primaryTextBrush}"
                                                               Text="Platinum" />
                                                </StackPanel>
                                            </StackPanel>

                                            <StackPanel Grid.Column="1">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="Auto" />
                                                        <ColumnDefinition Width="Auto" />
                                                    </Grid.ColumnDefinitions>

                                                    <TextBlock Grid.Column="0"
                                                               Margin="0,2,0,0"
                                                               Foreground="{DynamicResource _primaryTextBrush}"
                                                               Text="Items" />

                                                    <Button Grid.Column="1"
                                                            Margin="5,-1,0,0"
                                                            Padding="2"
                                                            Command="{Binding ShowAddPackDialogCommand}"
                                                            Style="{DynamicResource _secondaryButtonStyle}"
                                                            ToolTip="Add Pack">
                                                        <Image Width="16"
                                                               Height="16"
                                                               VerticalAlignment="Center"
                                                               Source="{DynamicResource _addPackImage}" />
                                                    </Button>

                                                    <Button Grid.Column="2"
                                                            Margin="2,0,5,0"
                                                            Padding="2"
                                                            Command="{Binding ShowAddEquipmentDialogCommand}"
                                                            Style="{DynamicResource _secondaryButtonStyle}"
                                                            ToolTip="Add Item">
                                                        <Image Width="16"
                                                               Height="16"
                                                               VerticalAlignment="Center"
                                                               Source="{DynamicResource _addImage}" />
                                                    </Button>
                                                </Grid>

                                                <Grid Margin="8,0,0,0" Visibility="{Binding ShowEquipmentHeader, Converter={StaticResource _boolVisibilityConverter}}">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="160" />
                                                        <ColumnDefinition Width="60" />
                                                        <ColumnDefinition Width="60" />
                                                        <ColumnDefinition Width="Auto" />
                                                    </Grid.ColumnDefinitions>

                                                    <TextBlock Grid.Column="0"
                                                               Margin="0,5,10,0"
                                                               FontSize="10"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="Name" />

                                                    <TextBlock Grid.Column="1"
                                                               Margin="0,5,10,0"
                                                               FontSize="10"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="Quantity" />

                                                    <TextBlock Grid.Column="2"
                                                               Margin="0,5,10,0"
                                                               FontSize="10"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="Equipped" />

                                                    <TextBlock Grid.Column="3"
                                                               Margin="0,5,10,0"
                                                               FontSize="10"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="Notes" />
                                                </Grid>

                                                <ItemsControl Margin="0,0,0,10" ItemsSource="{Binding Equipment}">
                                                    <ItemsControl.Style>
                                                        <Style TargetType="ItemsControl">
                                                            <Style.Triggers>
                                                                <Trigger Property="HasItems" Value="False">
                                                                    <Setter Property="Template">
                                                                        <Setter.Value>
                                                                            <ControlTemplate>
                                                                                <TextBlock Margin="0,8,0,0"
                                                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                                                           Text="No Items Found" />
                                                                            </ControlTemplate>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </ItemsControl.Style>

                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <Border Margin="0,8,5,0"
                                                                    Padding="8"
                                                                    Background="Transparent"
                                                                    BorderBrush="{DynamicResource _contentBorderBrush}"
                                                                    BorderThickness="1">
                                                                <Grid>
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="145" />
                                                                        <ColumnDefinition Width="80" />
                                                                        <ColumnDefinition Width="55" />
                                                                        <ColumnDefinition Width="*" />
                                                                        <ColumnDefinition Width="Auto" />
                                                                        <ColumnDefinition Width="Auto" />
                                                                    </Grid.ColumnDefinitions>

                                                                    <TextBlock Grid.Column="0"
                                                                               VerticalAlignment="Center"
                                                                               Cursor="Hand"
                                                                               Foreground="{DynamicResource _primaryTextBrush}"
                                                                               IsEnabled="{Binding IsItemSet}"
                                                                               Text="{Binding Name}"
                                                                               TextWrapping="Wrap">
                                                                        <TextBlock.InputBindings>
                                                                            <MouseBinding Command="{Binding ViewDetailsCommand}"
                                                                                          CommandParameter="{Binding}"
                                                                                          MouseAction="LeftClick" />
                                                                        </TextBlock.InputBindings>
                                                                    </TextBlock>

                                                                    <StackPanel Grid.Column="1" Orientation="Horizontal">
                                                                        <Button Name="DecreaseButton"
                                                                                Margin="2,0"
                                                                                Padding="2"
                                                                                Command="{Binding DecreaseQuantityCommand}"
                                                                                CommandParameter="{Binding}"
                                                                                Style="{DynamicResource _secondaryButtonStyle}"
                                                                                ToolTip="Decrease Quantity"
                                                                                Visibility="Hidden">
                                                                            <Image Width="16"
                                                                                   Height="16"
                                                                                   VerticalAlignment="Center"
                                                                                   Source="{DynamicResource _deleteImage}" />
                                                                        </Button>

                                                                        <TextBlock HorizontalAlignment="Left"
                                                                                   VerticalAlignment="Center"
                                                                                   Foreground="{DynamicResource _primaryTextBrush}"
                                                                                   Text="{Binding Quantity}"
                                                                                   TextWrapping="Wrap" />

                                                                        <Button Name="IncreaseButton"
                                                                                Margin="2,0,18,0"
                                                                                Padding="2"
                                                                                Command="{Binding IncreaseQuantityCommand}"
                                                                                CommandParameter="{Binding}"
                                                                                Style="{DynamicResource _secondaryButtonStyle}"
                                                                                ToolTip="Increase Quantity"
                                                                                Visibility="Hidden">
                                                                            <Image Width="16"
                                                                                   Height="16"
                                                                                   VerticalAlignment="Center"
                                                                                   Source="{DynamicResource _addImage}" />
                                                                        </Button>
                                                                    </StackPanel>

                                                                    <CheckBox Grid.Column="2"
                                                                              VerticalAlignment="Center"
                                                                              IsChecked="{Binding Equipped}" />

                                                                    <TextBlock Grid.Column="3"
                                                                               HorizontalAlignment="Left"
                                                                               VerticalAlignment="Center"
                                                                               Foreground="{DynamicResource _primaryTextBrush}"
                                                                               Text="{Binding Notes}"
                                                                               TextWrapping="Wrap" />

                                                                    <Button Name="EditButton"
                                                                            Grid.Column="4"
                                                                            Margin="2,0"
                                                                            Padding="2"
                                                                            Command="{Binding DataContext.ShowEditEquipmentDialogCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                                            CommandParameter="{Binding}"
                                                                            Style="{DynamicResource _secondaryButtonStyle}"
                                                                            ToolTip="Edit Item"
                                                                            Visibility="Hidden">
                                                                        <Image Width="16"
                                                                               Height="16"
                                                                               VerticalAlignment="Center"
                                                                               Source="{DynamicResource _editImage}" />
                                                                    </Button>

                                                                    <Button Name="RemoveButton"
                                                                            Grid.Column="5"
                                                                            Margin="2,0,0,0"
                                                                            Padding="2"
                                                                            Command="{Binding DataContext.RemoveEquipmentCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                                            CommandParameter="{Binding}"
                                                                            Style="{DynamicResource _secondaryButtonStyle}"
                                                                            ToolTip="Remove Item"
                                                                            Visibility="Hidden">
                                                                        <Image Width="16"
                                                                               Height="16"
                                                                               VerticalAlignment="Center"
                                                                               Source="{DynamicResource _removeImage}" />
                                                                    </Button>
                                                                </Grid>
                                                            </Border>

                                                            <DataTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter TargetName="DecreaseButton" Property="Visibility" Value="Visible" />
                                                                    <Setter TargetName="IncreaseButton" Property="Visibility" Value="Visible" />
                                                                    <Setter TargetName="EditButton" Property="Visibility" Value="Visible" />
                                                                    <Setter TargetName="RemoveButton" Property="Visibility" Value="Visible" />
                                                                </Trigger>
                                                            </DataTemplate.Triggers>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </StackPanel>
                                        </Grid>
                                    </Grid>
                                </Border>

                                <DataTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="BagEditButton" Property="Visibility" Value="Visible" />
                                        <Setter TargetName="BagRemoveButton" Property="Visibility" Value="Visible" />
                                    </Trigger>
                                </DataTemplate.Triggers>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </ScrollViewer>

            <ScrollViewer Grid.Row="1"
                          VerticalScrollBarVisibility="Auto"
                          Visibility="{Binding SpellcastingTabSelected, Converter={StaticResource _boolVisibilityConverter}}">
                <StackPanel>
                    <Grid Margin="0,15,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock Grid.Column="0"
                                   Margin="0,2,0,0"
                                   FontWeight="Bold"
                                   Foreground="{DynamicResource _primaryTextBrush}"
                                   Text="Spellbooks" />

                        <Button Grid.Column="1"
                                Margin="5,0,5,0"
                                Padding="2"
                                Command="{Binding ShowAddSpellbookDialogCommand}"
                                Style="{DynamicResource _secondaryButtonStyle}"
                                ToolTip="Add Spell Book">
                            <Image Width="16"
                                   Height="16"
                                   VerticalAlignment="Center"
                                   Source="{DynamicResource _addImage}" />
                        </Button>
                    </Grid>

                    <ItemsControl ItemsSource="{Binding Spellbooks}">
                        <ItemsControl.Style>
                            <Style TargetType="ItemsControl">
                                <Style.Triggers>
                                    <Trigger Property="HasItems" Value="False">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate>
                                                    <TextBlock Margin="0,8,0,0"
                                                               Foreground="{DynamicResource _secondaryTextBrush}"
                                                               Text="No Spellbooks Found" />
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ItemsControl.Style>

                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border Margin="0,8,5,0"
                                        Padding="8"
                                        Background="Transparent"
                                        BorderBrush="{DynamicResource _contentBorderBrush}"
                                        BorderThickness="1">
                                    <StackPanel>
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="*" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>

                                            <TextBlock Grid.Column="0"
                                                       VerticalAlignment="Center"
                                                       FontWeight="Bold"
                                                       Foreground="{DynamicResource _primaryTextBrush}"
                                                       Text="{Binding Name}"
                                                       TextWrapping="Wrap" />

                                            <Button Name="SpellbookExportButton"
                                                    Grid.Column="2"
                                                    Width="22"
                                                    Height="22"
                                                    Margin="2,0"
                                                    Command="{Binding ExportCommand}"
                                                    Style="{DynamicResource _secondaryButtonStyle}"
                                                    ToolTip="Export Spellbook"
                                                    Visibility="Hidden">
                                                <Image Width="16"
                                                       Height="16"
                                                       VerticalAlignment="Center"
                                                       Source="{DynamicResource _exportImage}" />
                                            </Button>

                                            <Button Name="SpellbookEditButton"
                                                    Grid.Column="3"
                                                    Margin="2,0"
                                                    Padding="2"
                                                    Command="{Binding DataContext.ShowEditSpellbookDialogCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                    CommandParameter="{Binding}"
                                                    Style="{DynamicResource _secondaryButtonStyle}"
                                                    ToolTip="Edit Spellbook"
                                                    Visibility="Hidden">
                                                <Image Width="16"
                                                       Height="16"
                                                       VerticalAlignment="Center"
                                                       Source="{DynamicResource _editImage}" />
                                            </Button>

                                            <Button Name="RemoveSpellbookButton"
                                                    Grid.Column="4"
                                                    Margin="2,0,0,0"
                                                    Padding="2"
                                                    Command="{Binding DataContext.DeleteSpellbookCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                    CommandParameter="{Binding}"
                                                    Style="{DynamicResource _secondaryButtonStyle}"
                                                    ToolTip="Delete Spellbook"
                                                    Visibility="Hidden">
                                                <Image Width="16"
                                                       Height="16"
                                                       VerticalAlignment="Center"
                                                       Source="{DynamicResource _removeImage}" />
                                            </Button>
                                        </Grid>

                                        <WrapPanel Margin="0,5,0,0">
                                            <StackPanel Width="180" Margin="0,0,10,0">
                                                <TextBlock Margin="0,10,0,2"
                                                           FontSize="10"
                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                           Text="Spellcasting Ability" />
                                                <TextBlock Margin="0,0,0,10"
                                                           Foreground="{DynamicResource _primaryTextBrush}"
                                                           Text="{Binding AbilityDisplay}"
                                                           TextWrapping="Wrap" />
                                            </StackPanel>

                                            <StackPanel Width="180" Margin="0,0,10,0">
                                                <TextBlock Margin="0,10,0,2"
                                                           FontSize="10"
                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                           Text="Spell Save DC" />
                                                <TextBlock Margin="0,0,0,10"
                                                           Foreground="{DynamicResource _primaryTextBrush}"
                                                           Text="{Binding SaveDC}"
                                                           TextWrapping="Wrap" />
                                            </StackPanel>

                                            <StackPanel Width="180" Margin="0,0,10,0">
                                                <TextBlock Margin="0,10,0,2"
                                                           FontSize="10"
                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                           Text="Spell Attack Bonus" />
                                                <TextBlock Margin="0,0,0,10"
                                                           Cursor="Hand"
                                                           Foreground="{DynamicResource _primaryTextBrush}"
                                                           Text="{Binding ToHitBonusDisplay}"
                                                           TextWrapping="Wrap">
                                                    <TextBlock.InputBindings>
                                                        <MouseBinding Command="{Binding RollToHitCommand}"
                                                                      CommandParameter="{Binding}"
                                                                      MouseAction="LeftClick" />
                                                    </TextBlock.InputBindings>
                                                </TextBlock>
                                            </StackPanel>
                                        </WrapPanel>

                                        <StackPanel Margin="0,15,0,0" Visibility="{Binding BasedOnClass, Converter={StaticResource _boolVisibilityConverter}}">
                                            <TextBlock FontWeight="Bold"
                                                       Foreground="{DynamicResource _primaryTextBrush}"
                                                       Text="Spell Slots" />

                                            <StackPanel Margin="2,10,0,0" Orientation="Horizontal">
                                                <TextBlock Margin="0,0,13,0"
                                                           FontSize="10"
                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                           Text="C" />

                                                <TextBlock Width="52"
                                                           FontSize="10"
                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                           Text="1st"
                                                           TextAlignment="Center" />

                                                <TextBlock Width="52"
                                                           FontSize="10"
                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                           Text="2nd"
                                                           TextAlignment="Center" />

                                                <TextBlock Width="52"
                                                           FontSize="10"
                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                           Text="3rd"
                                                           TextAlignment="Center" />

                                                <TextBlock Width="52"
                                                           FontSize="10"
                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                           Text="4th"
                                                           TextAlignment="Center" />

                                                <TextBlock Width="52"
                                                           FontSize="10"
                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                           Text="5th"
                                                           TextAlignment="Center" />

                                                <TextBlock Width="52"
                                                           FontSize="10"
                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                           Text="6th"
                                                           TextAlignment="Center" />

                                                <TextBlock Width="52"
                                                           FontSize="10"
                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                           Text="7th"
                                                           TextAlignment="Center" />

                                                <TextBlock Width="52"
                                                           FontSize="10"
                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                           Text="8th"
                                                           TextAlignment="Center" />

                                                <TextBlock Width="52"
                                                           FontSize="10"
                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                           Text="9th"
                                                           TextAlignment="Center" />
                                            </StackPanel>

                                            <StackPanel Margin="0,5,0,0" Orientation="Horizontal">
                                                <TextBlock Margin="1,0,13,0"
                                                           Foreground="{DynamicResource _primaryTextBrush}"
                                                           Text="{Binding MaxCantrips}"
                                                           TextAlignment="Center" />

                                                <ItemsControl AlternationCount="9" ItemsSource="{Binding SpellSlotsDisplay}">
                                                    <ItemsControl.ItemsPanel>
                                                        <ItemsPanelTemplate>
                                                            <StackPanel Orientation="Horizontal" />
                                                        </ItemsPanelTemplate>
                                                    </ItemsControl.ItemsPanel>

                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <StackPanel Width="52" Orientation="Horizontal">
                                                                <Button Name="DecreaseSlotsButton"
                                                                        Height="16"
                                                                        Background="{DynamicResource _mainBackgroundBrush}"
                                                                        Command="{Binding DataContext.DecreaseSpellSlotCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                                        CommandParameter="{Binding Path=(ItemsControl.AlternationIndex), RelativeSource={RelativeSource TemplatedParent}}"
                                                                        Style="{DynamicResource _secondaryButtonStyle}"
                                                                        ToolTip="Decrease Spell Slots"
                                                                        Visibility="Hidden">
                                                                    <Image Width="16"
                                                                           Height="16"
                                                                           VerticalAlignment="Center"
                                                                           Source="{DynamicResource _deleteImage}" />
                                                                </Button>

                                                                <TextBlock Foreground="{DynamicResource _primaryTextBrush}"
                                                                           Text="{Binding}"
                                                                           TextAlignment="Center" />

                                                                <Button Name="IncreaseSlotsButton"
                                                                        Height="16"
                                                                        Command="{Binding DataContext.IncreaseSpellSlotCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                                                        CommandParameter="{Binding Path=(ItemsControl.AlternationIndex), RelativeSource={RelativeSource TemplatedParent}}"
                                                                        Style="{DynamicResource _secondaryButtonStyle}"
                                                                        ToolTip="Increase Spell Slots"
                                                                        Visibility="Hidden">
                                                                    <Image Width="16"
                                                                           Height="16"
                                                                           VerticalAlignment="Center"
                                                                           Source="{DynamicResource _addImage}" />
                                                                </Button>
                                                            </StackPanel>

                                                            <DataTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter TargetName="DecreaseSlotsButton" Property="Visibility" Value="Visible" />
                                                                    <Setter TargetName="IncreaseSlotsButton" Property="Visibility" Value="Visible" />
                                                                </Trigger>
                                                            </DataTemplate.Triggers>
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </StackPanel>
                                        </StackPanel>

                                        <Grid Margin="0,25,0,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto" />
                                                <ColumnDefinition Width="Auto" />
                                            </Grid.ColumnDefinitions>

                                            <TextBlock Grid.Column="0"
                                                       Margin="0,2,0,0"
                                                       FontWeight="Bold"
                                                       Foreground="{DynamicResource _primaryTextBrush}"
                                                       Text="Spells" />

                                            <Button Grid.Column="1"
                                                    Margin="5,0,5,0"
                                                    Padding="2"
                                                    Command="{Binding ShowAddSpellDialogCommand}"
                                                    Style="{DynamicResource _secondaryButtonStyle}"
                                                    ToolTip="Add Spell">
                                                <Image Width="16"
                                                       Height="16"
                                                       VerticalAlignment="Center"
                                                       Source="{DynamicResource _addImage}" />
                                            </Button>
                                        </Grid>

                                        <ItemsControl ItemsSource="{Binding SpellsByLevel}">
                                            <ItemsControl.Style>
                                                <Style TargetType="ItemsControl">
                                                    <Style.Triggers>
                                                        <Trigger Property="HasItems" Value="False">
                                                            <Setter Property="Template">
                                                                <Setter.Value>
                                                                    <ControlTemplate>
                                                                        <TextBlock Margin="0,8,0,5"
                                                                                   Foreground="{DynamicResource _secondaryTextBrush}"
                                                                                   Text="No Spells Found" />
                                                                    </ControlTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                        </Trigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </ItemsControl.Style>

                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <Expander Margin="0,12,0,10" Background="Transparent">
                                                        <Expander.Header>
                                                            <Border Padding="0,2,0,0">
                                                                <StackPanel Orientation="Horizontal">
                                                                    <TextBlock Foreground="{DynamicResource _primaryTextBrush}" Text="{Binding LevelDisplay}" />
                                                                </StackPanel>
                                                            </Border>
                                                        </Expander.Header>

                                                        <StackPanel>
                                                            <Grid Margin="8,5,0,0" Visibility="{Binding ShowRaceSpellHeader, Converter={StaticResource _boolVisibilityConverter}}">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="32" />
                                                                    <ColumnDefinition Width="Auto" />
                                                                </Grid.ColumnDefinitions>

                                                                <TextBlock Grid.Column="0"
                                                                           Margin="0,5,10,0"
                                                                           FontSize="10"
                                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                                           Text="Used" />

                                                                <TextBlock Grid.Column="1"
                                                                           Margin="0,5,10,0"
                                                                           FontSize="10"
                                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                                           Text="Spell Name" />
                                                            </Grid>

                                                            <Grid Margin="8,5,0,0" Visibility="{Binding ShowClassSpellHeader, Converter={StaticResource _boolVisibilityConverter}}">
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="32" />
                                                                    <ColumnDefinition Width="Auto" />
                                                                </Grid.ColumnDefinitions>

                                                                <TextBlock Grid.Column="0"
                                                                           Margin="0,5,10,0"
                                                                           FontSize="10"
                                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                                           Text="Prep" />

                                                                <TextBlock Grid.Column="1"
                                                                           Margin="0,5,10,0"
                                                                           FontSize="10"
                                                                           Foreground="{DynamicResource _secondaryTextBrush}"
                                                                           Text="Spell Name" />
                                                            </Grid>

                                                            <ItemsControl ItemTemplate="{DynamicResource _spellbookEntryTemplate}" ItemsSource="{Binding Spells}">
                                                                <ItemsControl.Style>
                                                                    <Style TargetType="ItemsControl">
                                                                        <Style.Triggers>
                                                                            <Trigger Property="HasItems" Value="False">
                                                                                <Setter Property="Template">
                                                                                    <Setter.Value>
                                                                                        <ControlTemplate>
                                                                                            <TextBlock Margin="0,8,0,0"
                                                                                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                                                                                       Text="No Spells Found" />
                                                                                        </ControlTemplate>
                                                                                    </Setter.Value>
                                                                                </Setter>
                                                                            </Trigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </ItemsControl.Style>
                                                            </ItemsControl>
                                                        </StackPanel>
                                                    </Expander>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                    </StackPanel>
                                </Border>

                                <DataTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="SpellbookExportButton" Property="Visibility" Value="Visible" />
                                        <Setter TargetName="SpellbookEditButton" Property="Visibility" Value="Visible" />
                                        <Setter TargetName="RemoveSpellbookButton" Property="Visibility" Value="Visible" />
                                    </Trigger>
                                </DataTemplate.Triggers>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </ScrollViewer>

            <ScrollViewer Grid.Row="1"
                          VerticalScrollBarVisibility="Auto"
                          Visibility="{Binding InformationTabSelected, Converter={StaticResource _boolVisibilityConverter}}">
                <StackPanel>
                    <WrapPanel Margin="0,5,0,0">
                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,0"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Alignment" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding Alignment}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,0"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Deity" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding Deity}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,0"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Gender" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding Gender}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,0"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Age" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding Age}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,0"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Height" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding Height}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,0"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Weight" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding Weight, StringFormat={}{0} lbs}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,0"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Hair" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding Hair}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,0"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Eyes" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding Eyes}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="200" Margin="0,0,10,0">
                            <TextBlock Margin="0,10,0,0"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Skin" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding Skin}"
                                       TextWrapping="Wrap" />
                        </StackPanel>
                    </WrapPanel>

                    <TextBlock Margin="0,10,0,0"
                               FontSize="10"
                               Foreground="{DynamicResource _secondaryTextBrush}"
                               Text="Armor Proficiencies" />
                    <TextBlock Margin="0,0,0,10"
                               Foreground="{DynamicResource _primaryTextBrush}"
                               Text="{Binding ArmorProficiencies}"
                               TextWrapping="Wrap" />

                    <TextBlock Margin="0,10,0,0"
                               FontSize="10"
                               Foreground="{DynamicResource _secondaryTextBrush}"
                               Text="Weapon Proficiencies" />
                    <TextBlock Margin="0,0,0,10"
                               Foreground="{DynamicResource _primaryTextBrush}"
                               Text="{Binding WeaponProficiencies}"
                               TextWrapping="Wrap" />

                    <TextBlock Margin="0,10,0,0"
                               FontSize="10"
                               Foreground="{DynamicResource _secondaryTextBrush}"
                               Text="Tool Proficiencies" />
                    <TextBlock Margin="0,0,0,10"
                               Foreground="{DynamicResource _primaryTextBrush}"
                               Text="{Binding ToolProficiencies}"
                               TextWrapping="Wrap" />

                    <TextBlock Margin="0,10,0,0"
                               FontSize="10"
                               Foreground="{DynamicResource _secondaryTextBrush}"
                               Text="Languages" />
                    <TextBlock Margin="0,0,0,10"
                               Foreground="{DynamicResource _primaryTextBrush}"
                               Text="{Binding Languages}"
                               TextWrapping="Wrap" />

                    <WrapPanel>
                        <StackPanel Width="325" Margin="0,0,15,0">
                            <TextBlock Margin="0,10,0,0"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Personality Traits" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding PersonalityTraits}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="325" Margin="0,0,15,0">
                            <TextBlock Margin="0,10,0,0"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Ideals" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding Ideals}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="325" Margin="0,0,15,0">
                            <TextBlock Margin="0,10,0,0"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Bonds" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding Bonds}"
                                       TextWrapping="Wrap" />
                        </StackPanel>

                        <StackPanel Width="325" Margin="0,0,15,0">
                            <TextBlock Margin="0,10,0,0"
                                       FontSize="10"
                                       Foreground="{DynamicResource _secondaryTextBrush}"
                                       Text="Flaws" />
                            <TextBlock Margin="0,0,0,10"
                                       Foreground="{DynamicResource _primaryTextBrush}"
                                       Text="{Binding Flaws}"
                                       TextWrapping="Wrap" />
                        </StackPanel>
                    </WrapPanel>

                    <TextBlock Margin="0,10,0,0"
                               FontSize="10"
                               Foreground="{DynamicResource _secondaryTextBrush}"
                               Text="Backstory" />
                    <TextBlock Margin="0,0,0,10"
                               Foreground="{DynamicResource _primaryTextBrush}"
                               Text="{Binding Backstory}"
                               TextWrapping="Wrap" />
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </DataTemplate>
</ResourceDictionary>